{"ast":null,"code":"var _jsxFileName = \"/home/Sicpe/Documents/dev/boemska-project/src/components/auth/Login.js\";\nimport React from 'react';\nimport loginService from '../../services/loginService';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: '',\n      password: '',\n      error: ''\n    };\n\n    this.onChangeInput = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = () => {\n      const options = {\n        headers: {\n          Authorization: 'Basic dGVzdDpzZWNyZXQ='\n        }\n      };\n      const data = new FormData();\n      data.set('grant_type', 'password');\n      data.set('username', this.state.userName);\n      data.set('password', this.state.password); //     client_id: 'test',\n      // client_secret: 'secret',\n      // grant_type: 'password',\n\n      loginService.login(data, options).then(res => {\n        console.log('res', res);\n        localStorage.setItem('session', JSON.stringify(res.data));\n        this.props.history.push('home');\n      }).catch(e => {\n        console.log('err', e);\n        this.setState({\n          error: e.message\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n      className: \"large text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), \" Sign In to Your Account\"), React.createElement(\"form\", {\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      name: \"userName\",\n      value: this.state.userName,\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Sign in\"), this.state.error && React.createElement(\"span\", {\n      className: 'text-danger',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.error)), React.createElement(\"p\", {\n      className: \"my-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Do not have an account?\", ' ', React.createElement(\"a\", {\n      href: \"\",\n      onClick: e => {\n        e.preventDefault();\n        this.props.history.push('register');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Register\")));\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/home/Sicpe/Documents/dev/boemska-project/src/components/auth/Login.js"],"names":["React","loginService","withRouter","Login","PureComponent","state","userName","password","error","onChangeInput","e","name","target","value","setState","submit","options","headers","Authorization","data","FormData","set","login","then","res","console","log","localStorage","setItem","JSON","stringify","props","history","push","catch","message","render","preventDefault"],"mappings":"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","sourcesContent":["import React from 'react';\nimport loginService from '../../services/loginService';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends React.PureComponent {\n  state = {\n    userName: '',\n    password: '',\n    error: ''\n  };\n  onChangeInput = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({ [name]: value });\n  };\n  submit = () => {\n    const options = {\n      headers: {\n        Authorization: 'Basic dGVzdDpzZWNyZXQ='\n      }\n    };\n    const data = new FormData();\n    data.set('grant_type', 'password');\n    data.set('username', this.state.userName);\n    data.set('password', this.state.password);\n    //     client_id: 'test',\n    // client_secret: 'secret',\n    // grant_type: 'password',\n    loginService\n      .login(data, options)\n      .then(res => {\n        console.log('res', res);\n        localStorage.setItem('session', JSON.stringify(res.data));\n        this.props.history.push('home');\n      })\n      .catch(e => {\n        console.log('err', e);\n        this.setState({ error: e.message });\n      });\n  };\n  render() {\n    return (\n      <>\n        <h1 className='large text-primary'>Sign In</h1>\n        <p className='lead'>\n          <i className='fas fa-user'></i> Sign In to Your Account\n        </p>\n        <form className='form'>\n          <div className='form-group'>\n            <input\n              type='text'\n              placeholder='Name'\n              name='userName'\n              value={this.state.userName}\n              onChange={this.onChangeInput}\n            />\n          </div>\n\n          <div className='form-group'>\n            <input\n              type='password'\n              placeholder='Password'\n              name='password'\n              value={this.state.password}\n              onChange={this.onChangeInput}\n            />\n          </div>\n          <button\n            type='button'\n            className='btn btn-primary'\n            onClick={this.submit}\n          >\n            Sign in\n          </button>\n          {this.state.error && (\n            <span className={'text-danger'}>{this.state.error}</span>\n          )}\n        </form>\n        <p className='my-1'>\n          Do not have an account?{' '}\n          <a\n            href=''\n            onClick={e => {\n              e.preventDefault();\n              this.props.history.push('register');\n            }}\n          >\n            Register\n          </a>\n        </p>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}